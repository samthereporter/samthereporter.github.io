<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Domestic Animal Surrender Pathways</title>
    
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        
        /* Smooth scrolling for list */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // ------------------------------------------------------------
        // DATA CONFIGURATION
        // ------------------------------------------------------------
        
        // REPLACING IMAGES: 
        // These paths point to a local "images" folder next to this HTML file.
        const IMAGES = {
            canine: "./images/canine.jpg",
            feline: "./images/feline.jpg",
            other: "./images/other.jpg", 
            all: "./images/all.jpg" 
        };

        // DATA FROM CSV ANALYSIS
        const SURRENDER_DATA = {
            canine: [
                { reason: "Too many animals already", count: 50, percent: 17 },
                { reason: "Moving & cannot take with", count: 41, percent: 14 },
                { reason: "No time for animal", count: 38, percent: 13 },
                { reason: "Biter", count: 28, percent: 10 },
                { reason: "Health of caretaker", count: 24, percent: 8 },
                { reason: "Landlord doesn't allow", count: 22, percent: 7 },
                { reason: "Owner is unhoused", count: 17, percent: 6 },
                { reason: "Too hyperactive", count: 14, percent: 5 }
            ],
            feline: [
                { reason: "Too many animals already", count: 229, percent: 52 }, // Massive outlier
                { reason: "Moving & cannot take with", count: 50, percent: 11 },
                { reason: "Health of caretaker", count: 30, percent: 7 },
                { reason: "Allergies", count: 24, percent: 5 },
                { reason: "Cannot afford to care for", count: 23, percent: 5 },
                { reason: "No time for animal", count: 18, percent: 4 },
                { reason: "Not housebroken", count: 14, percent: 3 },
                { reason: "Landlord doesn't allow", count: 14, percent: 3 }
            ],
            other: [
                { reason: "Too many animals already", count: 30, percent: 24 },
                { reason: "Moving & cannot take with", count: 24, percent: 19 },
                { reason: "No time for animal", count: 22, percent: 18 },
                { reason: "No reason listed", count: 12, percent: 10 },
                { reason: "Landlord doesn't allow", count: 12, percent: 10 },
                { reason: "Allergies", count: 9, percent: 7 },
                { reason: "Health of caretaker", count: 9, percent: 7 },
                { reason: "Cannot afford", count: 4, percent: 3 }
            ],
            all: [
                { reason: "Too many animals already", count: 309, percent: 33 },
                { reason: "Moving & cannot take with", count: 115, percent: 12 },
                { reason: "No time for animal", count: 78, percent: 8 },
                { reason: "Health of caretaker", count: 63, percent: 7 },
                { reason: "Landlord doesn't allow", count: 48, percent: 5 },
                { reason: "No reason listed", count: 41, percent: 4 },
                { reason: "Allergies", count: 39, percent: 4 },
                { reason: "Cannot afford", count: 39, percent: 4 }
            ]
        };

        // ------------------------------------------------------------
        // COMPONENTS
        // ------------------------------------------------------------

        const ProgressBar = ({ percent, colorClass }) => (
            <div className="w-full bg-gray-200 rounded-full h-1.5 mt-1">
                <div 
                    className={`h-1.5 rounded-full ${colorClass}`} 
                    style={{ width: `${percent}%` }}
                ></div>
            </div>
        );

        const SurrenderCard = ({ title, type, imageSrc, data, colorTheme }) => {
            const [isHovered, setIsHovered] = React.useState(false);

            // Determine color classes based on theme
            const themeColors = {
                blue: "bg-blue-600",
                orange: "bg-orange-500",
                green: "bg-emerald-500",
                purple: "bg-purple-600"
            };
            const activeColor = themeColors[colorTheme] || "bg-gray-600";

            return (
                <div 
                    className="relative group overflow-hidden rounded-2xl shadow-xl h-[500px] cursor-pointer transition-all duration-500 ease-in-out transform hover:shadow-2xl"
                    onMouseEnter={() => setIsHovered(true)}
                    onMouseLeave={() => setIsHovered(false)}
                    onClick={() => setIsHovered(!isHovered)} // Mobile tap support
                >
                    {/* Background Image */}
                    <div className="absolute inset-0 bg-gray-900">
                        {/* Added onerror fallback to placeholder if local file is missing */}
                        <img 
                            src={imageSrc} 
                            alt={title}
                            onError={(e) => {
                                e.target.onerror = null; 
                                e.target.src = "https://placehold.co/800x800/222/FFF?text=Image+Missing";
                            }}
                            className={`w-full h-full object-cover transition-transform duration-700 ease-in-out opacity-80 ${isHovered ? 'scale-110 blur-sm opacity-40' : 'scale-100'}`}
                        />
                        {/* Gradient Overlay for text readability when not hovered */}
                        <div className={`absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent transition-opacity duration-300 ${isHovered ? 'opacity-0' : 'opacity-100'}`} />
                    </div>

                    {/* Default State: Title at bottom */}
                    <div className={`absolute bottom-0 left-0 p-8 w-full transition-transform duration-500 ${isHovered ? 'translate-y-full opacity-0' : 'translate-y-0 opacity-100'}`}>
                        <h2 className="text-4xl font-bold text-white mb-2">{title}</h2>
                        <div className={`h-1 w-20 ${activeColor} rounded-full`}></div>
                    </div>

                    {/* Hover State: Data List */}
                    <div className={`absolute inset-0 p-6 flex flex-col justify-center transition-all duration-500 ${isHovered ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10 pointer-events-none'}`}>
                        <div className="glass-panel rounded-xl p-6 h-full flex flex-col shadow-inner overflow-hidden">
                            <h3 className={`text-2xl font-bold mb-4 ${colorTheme === 'blue' ? 'text-blue-800' : colorTheme === 'orange' ? 'text-orange-800' : colorTheme === 'green' ? 'text-emerald-800' : 'text-purple-800'}`}>
                                Top Reasons for Surrender
                            </h3>
                            
                            <div className="flex-1 overflow-y-auto scrollbar-hide space-y-4">
                                {data.map((item, index) => (
                                    <div key={index} className="w-full">
                                        <div className="flex justify-between items-end mb-1">
                                            <span className="font-semibold text-gray-800 text-sm">{item.reason}</span>
                                            <span className="font-mono text-xs text-gray-500">{item.count} cases</span>
                                        </div>
                                        <ProgressBar percent={item.percent * 1.5} colorClass={activeColor} /> 
                                        {/* Multiplied percent by 1.5 just to make bars look fuller for visual impact */}
                                    </div>
                                ))}
                            </div>
                            
                            <div className="mt-4 pt-4 border-t border-gray-200 text-center">
                                <p className="text-xs text-gray-500 uppercase tracking-wider font-semibold">Most Common to Least Common</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const Header = () => (
            <div className="text-center max-w-4xl mx-auto py-16 px-4">
                <h1 className="text-5xl md:text-6xl font-extrabold text-slate-900 mb-6 tracking-tight">
                    How Each Domestic Animal Gets <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600">Surrendered</span>
                </h1>
                <p className="text-lg md:text-xl text-slate-600 leading-relaxed">
                    Surrendering a pet is a complex decision often driven by systemic issues rather than lack of love. 
                    The data below reveals the distinct pathways for different animalsâ€”from housing crises affecting dogs 
                    to overpopulation overwhelming cats. Explore the categories to understand the hierarchy of need.
                </p>
            </div>
        );

        const Footer = () => (
            <footer className="bg-white mt-20 border-t border-gray-200">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div className="text-left">
                            <h3 className="text-lg font-bold text-gray-900 mb-2">Data Source</h3>
                            <p className="text-gray-600 mb-4">
                                Data based on surrender intake reports from the <span className="font-semibold text-blue-600">Lincoln Humane Society</span> (Oct '24 - Feb '25).
                            </p>
                            <div className="text-sm text-gray-500 bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <p className="font-bold text-gray-800 uppercase tracking-wide text-xs mb-2">Surrender Location</p>
                                <p className="font-semibold">Capital Humane Society</p>
                                <p>Admissions & Assessment Center</p>
                                <p>2320 Park Blvd, Lincoln, NE 68502</p>
                            </div>
                        </div>
                        <div className="h-72 w-full rounded-xl overflow-hidden shadow-lg border border-gray-200">
                            <iframe 
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3008.304567234673!2d-96.71350692415513!3d40.79374497138125!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8796be432f90769b%3A0xc3f8e6e8e8e8e8e8!2s2320%20Park%20Blvd%2C%20Lincoln%2C%20NE%2068502!5e0!3m2!1sen!2sus!4v1709664000000!5m2!1sen!2sus" 
                                width="100%" 
                                height="100%" 
                                style={{border:0}} 
                                allowFullScreen="" 
                                loading="lazy" 
                                referrerPolicy="no-referrer-when-downgrade">
                            </iframe>
                        </div>
                    </div>
                </div>
            </footer>
        );

        const App = () => {
            return (
                <div className="min-h-screen pb-0">
                    <Header />
                    
                    <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-20">
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8">
                            
                            <SurrenderCard 
                                title="Canines" 
                                type="canine" 
                                imageSrc={IMAGES.canine}
                                data={SURRENDER_DATA.canine}
                                colorTheme="blue"
                            />
                            
                            <SurrenderCard 
                                title="Felines" 
                                type="feline" 
                                imageSrc={IMAGES.feline}
                                data={SURRENDER_DATA.feline}
                                colorTheme="orange"
                            />
                            
                            <SurrenderCard 
                                title="Other Animals" 
                                type="other" 
                                imageSrc={IMAGES.other}
                                data={SURRENDER_DATA.other}
                                colorTheme="green"
                            />
                            
                            <SurrenderCard 
                                title="Overall Trends" 
                                type="all" 
                                imageSrc={IMAGES.all}
                                data={SURRENDER_DATA.all}
                                colorTheme="purple"
                            />
                            
                        </div>
                    </main>

                    <Footer />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>